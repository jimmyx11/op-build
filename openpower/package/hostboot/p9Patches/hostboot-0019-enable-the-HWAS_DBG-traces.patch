From 6a65559d41f88e635ff611bbeb004ec8cba98a39 Mon Sep 17 00:00:00 2001
From: jim <jim.yuan@supermicro.com>
Date: Wed, 8 Feb 2017 06:48:44 -0800
Subject: [PATCH] enable the HWAS_DBG traces

---
 src/include/usr/hwas/hwasPlatTrace.H | 2 +-
 src/usr/hwas/common/hwas.C           | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/include/usr/hwas/hwasPlatTrace.H b/src/include/usr/hwas/hwasPlatTrace.H
index 2551847..f8f264a 100644
--- a/src/include/usr/hwas/hwasPlatTrace.H
+++ b/src/include/usr/hwas/hwasPlatTrace.H
@@ -45,7 +45,7 @@ namespace HWAS
 
 // Debug traces (go into fast trace buffer that can wrap often)
 #define HWAS_DBG(_fmt_, _args_...) \
-    TRACDCOMP(g_trac_dbg_hwas, TRACE_FILENAME _fmt_, ##_args_)
+    TRACFCOMP(g_trac_imp_hwas, TRACE_FILENAME _fmt_, ##_args_)
 
 #define HWAS_DBG_BIN(_str_, _addr_, _len_) \
     TRACDBIN(g_trac_dbg_hwas, TRACE_FILENAME _str_, _addr_, _len_)
diff --git a/src/usr/hwas/common/hwas.C b/src/usr/hwas/common/hwas.C
index c9955b5..2da2811 100644
--- a/src/usr/hwas/common/hwas.C
+++ b/src/usr/hwas/common/hwas.C
@@ -64,7 +64,7 @@ HWAS_TD_t g_trac_imp_hwas   = NULL; // important - slow
 
 #ifdef __HOSTBOOT_MODULE
 TRAC_INIT(&g_trac_dbg_hwas, "HWAS",     KILOBYTE );
-TRAC_INIT(&g_trac_imp_hwas, "HWAS_I",   KILOBYTE );
+TRAC_INIT(&g_trac_imp_hwas, "HWAS_I",   2*KILOBYTE );
 #else
 TRAC_INIT(&g_trac_dbg_hwas, "HWAS",     1024 );
 TRAC_INIT(&g_trac_imp_hwas, "HWAS_I",   1024 );
-- 
2.9.2.windows.1

