From 49ddac39baafea4422f8a79d70635e6961451414 Mon Sep 17 00:00:00 2001
From: Bill Hoffa <wghoffa@us.ibm.com>
Date: Thu, 2 Feb 2017 08:08:41 -0600
Subject: [PATCH] Pulling in Ben's Few minor fixes in prdrExpr change

Change-Id: Id4f2a4e46d4f42f3dee197c14dd83cfc3b0d9261
---
 src/usr/diag/prdf/common/rule/prdrExpr.H | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

diff --git a/src/usr/diag/prdf/common/rule/prdrExpr.H b/src/usr/diag/prdf/common/rule/prdrExpr.H
index 57a3d3e..09a0968 100755
--- a/src/usr/diag/prdf/common/rule/prdrExpr.H
+++ b/src/usr/diag/prdf/common/rule/prdrExpr.H
@@ -5,7 +5,7 @@
 /*                                                                        */
 /* OpenPOWER HostBoot Project                                             */
 /*                                                                        */
-/* Contributors Listed Below - COPYRIGHT 2016                             */
+/* Contributors Listed Below - COPYRIGHT 2016,2017                        */
 /* [+] International Business Machines Corp.                              */
 /*                                                                        */
 /*                                                                        */
@@ -299,7 +299,8 @@ class ExprOp1 : public Expr
         int output(FILE * i_file)
             {
                 PRDR_FWRITE(&cv_op, 1, 1, i_file);
-                cv_arg->output(i_file);
+                if (NULL != cv_arg)
+                    cv_arg->output(i_file);
 
                 return 0;
             };
@@ -338,8 +339,10 @@ class ExprOp2 : public Expr
         int output(FILE * i_file)
             {
                 PRDR_FWRITE(&cv_op, 1, 1, i_file);
-                cv_arg[0]->output(i_file);
-                cv_arg[1]->output(i_file);
+                if (NULL != cv_arg[0])
+                    cv_arg[0]->output(i_file);
+                if (NULL != cv_arg[1])
+                    cv_arg[1]->output(i_file);
 
                 return 0;
             };
@@ -665,6 +668,7 @@ class ExprAct_Thresh : public Expr
         {
             cv_thresholdTime[0] = i_fieldTime;
             cv_thresholdTime[1] = i_mfgTime;
+            cv_3 = 0;
         };
 
         int output(FILE * i_file)
-- 
1.8.2.2

